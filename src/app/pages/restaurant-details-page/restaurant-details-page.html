<div class="contact-details-container">
  @if(cargandoInfo){
    <div class="loading">
      <p>Cargando informaci√≥n del restaurante...</p>
    </div>
  } @else if(!restaurant){
    <p>No se encontr√≥ el restaurante</p>
  } @else {
  
    <div class="restaurant-header">
      <div class="header-content">
        <h2>{{ restaurant.restaurantName }}</h2>
        <div class="restaurant-info">
          <p>üìû {{ restaurant.phoneNumber }}</p>
          <p>üìç {{ restaurant.address }}</p>
        </div>
      </div>
    </div>

    <div class="menu-section">
      <h3>Nuestro Men√∫</h3>

      @if (products().length === 0) {
        <p class="no-products">Este restaurante a√∫n no ha cargado productos en su men√∫.</p>
      } @else {
        <div class="categories-nav">
          @for (category of categories(); track category.id) {
            <button 
              class="category-filter"
              (click)="selectCategory(category.id)"
              [class.active]="selectedCategoryId() === category.id">
              {{ category.name }}
            </button>
          }
        </div>

        <div class="products-grid">
          @for (product of getFilteredProducts(); track product.id) {
            <div class="product-card"
              [class.has-discount]="product.discount > 0"
              [class.featured]="product.IsFeatured"
              [class.happy-hour]="product.hasHappyHour">
              
              <div class="badges">
                @if (product.IsFeatured) {
                  <span class="badge badge-featured">‚òÖ Destacado</span>
                }
                @if (product.discount > 0) {
                  <span class="badge badge-discount">-{{ product.discount }}%</span>
                }
                @if (product.hasHappyHour) {
                  <span class="badge badge-happy-hour">üéâ Happy Hour</span>
                }
              </div>

              <div class="product-content">
                <h4>{{ product.name }}</h4>
                <p class="description">{{ product.description }}</p>
                <p class="category-name">{{ getCategoryName(product.categoryId) }}</p>
                
                <div class="price-section">
                  @if (product.discount > 0) {
                    <span class="original-price">${{ product.price.toFixed(2) }}</span>
                  }
                  <span class="final-price">${{ getFinalPrice(product).toFixed(2) }}</span>
                </div>
              </div>
            </div>
          }
        </div>
      }
    </div>

    <!-- Back Button -->
    <div class="back-button">
      <a routerLink="/">‚Üê Volver</a>
    </div>
  }
</div>